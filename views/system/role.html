<div class="am-cf am-padding am-padding-bottom-0">
    <div class="am-fl am-cf">
          <strong class="am-text-primary am-text-lg">系统管理</strong> /
          <small>角色管理</small>
    </div>
</div>

<hr>

<div class="am-g">
     <!--位置信息-->
     <div class="am-u-sm-12">
          <!--边框-->
          <div class="am-panel am-panel-default am-panel-bd">
              <div class="am-g">

                  <div class="am-u-md-12">
                      <!--文件上传-->

                      <!--文件上传-->
                      <!-- Example Classes -->
                      <div id="toolbar" class="form-inline">
                          <input  name="aaa" class="form-control" >
                          <input  name="bbb" class="form-control" >
                          <select  name="ccc" class="form-control">
                              <option value="a">aaa</option>
                              <option value="b">bbb</option>
                              <option value="c">ccc</option>
                          </select>
                          <button class="form-control" onclick="query()">查询</button>
                      </div>
                      <table id="table"></table>
                  </div>

              </div>
          </div>
     </div>

</div>

<script>

    $(function () {
        initBootstrapTable();
    });

    function query(){
        initBootstrapTable();
    }

    function initBootstrapTable(){
        $('#table').bootstrapTable('destroy').bootstrapTable({
            method:"post",
            url: '/role/list',
            cache: false, //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
            striped: true, //设置为 true 会有隔行变色效果
            pagination: true, //启动分页
            pageSize: 10, //每页显示的记录数
            pageNumber:1, //当前第几页
            pageList: [5, 10, 15, 20, 25,"ALL"], //记录数可选列表
            search: false, //是否启用查询
            showColumns: true, //显示下拉框勾选要显示的列
            minimumCountColumns:2,//过滤列时做少可以省下多少列
            showRefresh: true,//显示刷新按钮
            sidePagination:"server",//服务器端分页
            height: 500,//table高度
            clickToSelect:true,//点击行内数据 进行checkbox选中
            sortable: true,
            toolbar:"#toolbar",//查询工具 自定义空间
            paginationPreText: "上一页",//上一页下一页图标 可自定义
            paginationNextText: "下一页",//上一页下一页图标 可自定义
            maintainSelected:true,
            sortable:true,
            queryParams:function(params){//查询参数
                $("#toolbar :input").each(function(i,e){
                    if($(e).attr("name")!=undefined){
                        params[$(e).attr("name")] = $(e).val();
                    }
                });
                return params;
            },
            showPaginationSwitch:false,//显示分页标签控制按钮
            showToggle:true,//选择性显示列 如果不想看到的列可以在此过滤掉
            cardView:false,//已卡片样式展示列表
            detailView:true,//详细列表显示 前面添加一个“ + ”点击可以看到详细列表
            detailFormatter:function(index,row){//详细信息拦截处理
                var result = "";
                for(var obj in row){
                    if(row[obj]!=undefined) {
                        result += "<div class='col-md-3'>"+obj + ":" + row[obj] + "\n</div>";
                    }else{
                        result += "<div class='col-md-3'>"+obj + ":\n</div>"
                    }
                }
                return JSON.stringify(row);
            },

            showExport:true,//table导出   server 服务器分页只能导出当前页  client分页 可以按规则导出
            exportDataType: "selected",//导出文件 basic 是本页信息、all是所有信息、selected被选中信息

            columns: [{//table 列定义
                field: 'field0',
                checkbox: true,
                align: 'center',
                valign: 'middle',
                rowspan: 1,
                colspan: 1
            },{
                field: 'field15',
                title: 'Item ID',
                formatter:function(value,row,index){//数据信息处理
                    return value;
                }
            }, {
                field: 'field1',
                title: 'Item Name'
            }, {
                field: 'field2',
                title: 'Item Price'
            }, {
                field: 'field3',
                title: 'Item Name111',
                visible:false,//table模式下 是否显示列
                cardVisible:false,//card模式下 是否显示列
                switchable:false //可选择   界面自定义是否显示 true：可自定义
            }, {
                field: 'field4',
                title: 'Item Price',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field5',
                title: 'Item Name',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field6',
                title: 'Item Price',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field7',
                title: 'Item Name',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field8',
                title: 'Item Price',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field9',
                title: 'Item Name',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field10',
                title: 'Item Price',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field11',
                title: 'Item Name',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field12',
                title: 'Item Price',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field13',
                title: 'Item Name',
                cardVisible:false,
                switchable:false
            }, {
                field: 'field14',
                title: 'Item Price',
                cardVisible:false,
                switchable:false
            }]
        });
    }
</script>
